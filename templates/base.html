{% load static %}
<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gobus</title>
    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
    <link href="{% static 'css/base.css' %}" rel="stylesheet">
    {% block head_extra %}{% endblock %}
  </head>
  <body>
    <nav class="navbar gobus-navbar navbar-expand-lg navbar-dark">
      <div class="container-fluid">
        <a class="navbar-brand d-flex align-items-center gap-2" href="/">
          <i class="bi bi-bus-front-fill"></i>
          <span>Gobus</span>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item"><a class="nav-link" href="/"><i class="bi bi-house-door"></i> Inicio</a></li>
            <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-truck"></i> Autobuses</a></li>
            <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-person-vcard"></i> Conductores</a></li>
            <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-sign-turn-right"></i> Rutas</a></li>
            <li class="nav-item"><a class="nav-link" href="#"><i class="bi bi-ticket-perforated"></i> Billetes</a></li>
          </ul>
          <form class="d-flex me-3" role="search">
            <input class="form-control" type="search" placeholder="Buscar..." aria-label="Buscar">
          </form>
          <ul class="navbar-nav align-items-center">
            <li class="nav-item me-2">
              <a class="nav-link position-relative" href="#" aria-label="Notificaciones">
                <i class="bi bi-bell-fill"></i>
                <span class="position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light rounded-circle">
                  <span class="visualmente-hidden">Nuevas alertas</span>
                </span>
              </a>
            </li>
            {% if user.is_authenticated %}
            <li class="nav-item dropdown custom-user-dropdown">
              <a class="nav-link dropdown-toggle d-flex align-items-center gap-2" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-person-circle"></i> {{ user.username|default:"Usuario" }}
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="{% url 'admin:index' %}"><i class="bi bi-speedometer2 me-2"></i>Admin</a></li>
                <li><hr class="dropdown-divider"></li>
                <li>
                  <form method="post" action="{% url 'logout' %}" class="px-3 py-1">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-sm btn-outline-danger w-100"><i class="bi bi-box-arrow-right me-1"></i>Salir</button>
                  </form>
                </li>
              </ul>
            </li>
            {% else %}
            <li class="nav-item"><a class="nav-link" href="{% url 'login' %}"><i class="bi bi-box-arrow-in-right"></i> Entrar</a></li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>

    <main class="container py-4">
      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
      {% block content %}{% endblock %}
    </main>

    <footer class="container pb-4 site-footer">
      <div class="glass p-4">
        <div class="row g-4">
          <div class="col-md-4">
            <h6>Gobus</h6>
            <p class="mb-2">Plataforma de gestión de transporte.</p>
            <div class="d-flex gap-2 social">
              <a href="#" aria-label="Twitter" title="Twitter">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16"><path d="M5 15c6 0 9.3-5 9.3-9.3v-.4A6.6 6.6 0 0 0 16 3.1a6.5 6.5 0 0 1-1.9.5 3.3 3.3 0 0 0 1.4-1.8 6.6 6.6 0 0 1-2.1.8A3.3 3.3 0 0 0 7.9 5.7 9.3 9.3 0 0 1 1.1 2a3.3 3.3 0 0 0 1 4.4A3.3 3.3 0 0 1 .6 6v.1a3.3 3.3 0 0 0 2.6 3.3 3.4 3.4 0 0 1-.9.1c-.2 0-.5 0-.7-.1a3.3 3.3 0 0 0 3.1 2.3A6.7 6.7 0 0 1 0 13.5 9.4 9.4 0 0 0 5 15"/></svg>
              </a>
              <a href="#" aria-label="Facebook" title="Facebook">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16"><path d="M9 6.5V5c0-.5.4-1 1-1h1V2H9C7.3 2 6 3.3 6 5v1.5H4V9h2v5h2V9h2l.5-2.5H8z"/></svg>
              </a>
              <a href="#" aria-label="LinkedIn" title="LinkedIn">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16"><path d="M1.5 1.5A1.5 1.5 0 1 1 4.5 3 1.5 1.5 0 0 1 1.5 1.5zM1 5h3v10H1zM6 5h3v1.7h.1A3.3 3.3 0 0 1 12.9 5C15 5 16 6.3 16 8.9V15h-3V9.5c0-1.4-.5-2.3-1.6-2.3-.9 0-1.3.6-1.5 1.1V15H6z"/></svg>
              </a>
            </div>
          </div>
          <div class="col-6 col-md-2">
            <h6>Producto</h6>
            <ul class="list-unstyled mb-0">
              <li><a class="footer-link" href="#">Características</a></li>
              <li><a class="footer-link" href="#">Precios</a></li>
              <li><a class="footer-link" href="#">Novedades</a></li>
            </ul>
          </div>
          <div class="col-6 col-md-2">
            <h6>Recursos</h6>
            <ul class="list-unstyled mb-0">
              <li><a class="footer-link" href="#">Documentación</a></li>
              <li><a class="footer-link" href="#">Soporte</a></li>
              <li><a class="footer-link" href="#">Guías</a></li>
            </ul>
          </div>
          <div class="col-md-4">
            <h6>Contacto</h6>
            <p class="mb-1">Correo: soporte@gobus.local</p>
            <p class="mb-3">Tel: (000) 000-0000</p>
            <small class="d-block">© {{ now|default:2025 }} Gobus · Todos los derechos reservados</small>
          </div>
        </div>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
